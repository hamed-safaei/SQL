SELECT * , 
RANK()OVER(ORDER BY qty DESC)as RankByQty,
DENSE_RANK()OVER(ORDER BY qty DESC)as DensRankByQty,
DENSE_RANK()OVER(PARTITION BY productid ORDER BY qty DESC)as DensRankByQtyWithPart 

FROM Sales.OrderDetails
